<build>
  <plugins>
    <plugin>
      <groupId>org.openapitools</groupId>
      <artifactId>openapi-generator-maven-plugin</artifactId>
      <version>7.4.0</version>
      <executions>
        <execution>
          <id>generate-openapi</id>
          <goals>
            <goal>generate</goal>
          </goals>
          <configuration>
            <!-- Path to your OpenAPI spec (can be YAML or JSON) -->
            <inputSpec>${project.basedir}/src/main/resources/openapi.yaml</inputSpec>
            
            <!-- Choose what to generate -->
            <generatorName>spring</generatorName>  <!-- or java, kotlin, typescript-axios, etc. -->

            <!-- Where generated code should go -->
            <output>${project.build.directory}/generated-sources/openapi</output>

            <!-- Extra configs for Spring Boot server stub -->
            <configOptions>
              <interfaceOnly>true</interfaceOnly>
              <skipDefaultInterface>true</skipDefaultInterface>
              <useTags>true</useTags>
            </configOptions>
          </configuration>
        </execution>
      </executions>
    </plugin>
  </plugins>
</build>
